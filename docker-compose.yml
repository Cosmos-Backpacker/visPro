services:
  visPro-system:
    # 构建配置部分
    build:
      # 指定构建上下文路径
      # 表示 Dockerfile 在 ./visPro-system 目录下
      context: ./visPro-system
      # 指定使用的 Dockerfile 文件名
      dockerfile: Dockerfile
    image: vispro-system:latest  # 添加这行，指定小写镜像名
    # 指定容器名称（不是服务名）
    container_name: vispro-system-service
    # 端口映射配置
    # 格式：主机端口:容器端口
    # 将主机的 9005 端口映射到容器的 9005 端口
    ports:
      - "9005:9005"

  visPro-auth:
    build:
      # 构建上下文路径为 ./visPro-auth
      context: ./visPro-auth
      dockerfile: Dockerfile
    image: vispro-auth:latest  # 添加这行，指定小写镜像名
    # 容器名称为 visPro-auth-service
    container_name: vispro-auth-service
    # 端口映射：主机9001 -> 容器9001
    ports:
      - "9001:9001"

  visPro-gateway:
    build:
      # 构建上下文路径为 ./visPro-gateway
      context: ./visPro-gateway
      dockerfile: Dockerfile
    image: vispro-gateway:latest  # 添加这行，指定小写镜像名
    # 容器名称为 visPro-gateway-service
    container_name: vispro-gateway-service
    # 端口映射：主机8080 -> 容器8080
    ports:
      - "8080:8080"
